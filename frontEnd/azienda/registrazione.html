<!DOCTYPE html> 
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" media="screen,projection" />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style>
      body {
        background-color: white;
        color: #1565c0;
      }

      .card {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .card-title,
      label {
        color: #1565c0;
      }

      input,
      textarea {
        color: #1565c0 !important;
        border-bottom: 1px solid #1565c0 !important;
        background-color: white !important;
      }

      .input-field input:focus + label,
      .input-field textarea:focus + label {
        color: #1565c0 !important;
      }

      .input-field input:focus,
      .input-field textarea:focus {
        border-bottom: 2px solid #1565c0 !important;
        box-shadow: 0 1px 0 0 #1565c0 !important;
      }

      .btn,
      .btn-large {
        background-color: #1565c0;
      }

      .btn:hover,
      .btn-large:hover {
        background-color: #0d47a1;
      }

      #message {
        display: none;
        color: #1565c0;
        margin-top: 10px;
      }

      .valid {
        color: green;
      }

      .invalid {
        color: red;
      }
    </style>
  </head>

  <body>
    <div class="row">
      <div class="col s12 m8 l6 offset-m2 offset-l3">
        <div class="card">
          <div class="card-content">
            <img class="responsive-img" src="../assets/logo.png" alt="Logo">
            <span class="card-title center">
                <h5 id="titoloModulo">Registrazione Azienda</h5>
            </span>
            <form method="POST" action="../../backEnd/controllers/register.php" enctype="multipart/form-data">
              <!-- Campi per utente -->
              <div class="row">
                <div class="input-field col s6">
                  <input id="nome" type="text" name="nome" required />
                  <label for="nome">Nome</label>
                </div>
              </div>

              <!-- Campi per azienda -->
              <div class="row">
                <div class="input-field col s6">
                  <input id="ragione_sociale" type="text" name="ragione_sociale" required />
                  <label for="ragione_sociale">Ragione Sociale</label>
                </div>
                <div class="input-field col s6">
                  <input id="partita_iva" type="text" name="partita_iva" required />
                  <label for="partita_iva">Partita Iva</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s6">
                  <input id="sito_web" type="text" name="sito_web" required />
                  <label for="sito_web">Link Sito Web</label>
                </div>
                <div class="input-field col s6">
                  <input id="telefono_contatto" type="tel" name="telefono_contatto" required />
                  <label for="telefono_contatto">Telefono Contatto</label>
                </div>
              </div>

              <div class="row">
                <div class="input-field col s12">
                  <input id="email_contatto" type="email" name="email_contatto" required />
                  <label for="email_contatto">Email Contatto</label>
                </div>
              </div>

              <div class="row">
                <div class="input-field col s12">
                  <input id="email" type="email" name="email" required />
                  <label for="email">Email</label>
                </div>
              </div>

              <div class="row">
                <div class="input-field col s12">
                  <input type="password" id="password" name="password" required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" />
                  <label for="password">Password</label>
                  <div id="message">
                    <p>La password deve contenere:</p>
                    <ul>
                      <li id="letter" class="invalid">Almeno una lettera minuscola</li>
                      <li id="capital" class="invalid">Almeno una lettera maiuscola</li>
                      <li id="number" class="invalid">Almeno un numero</li>
                      <li id="length" class="invalid">Minimo 8 caratteri</li>
                    </ul>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="input-field col s12">
                  <textarea id="descrizione" name="descrizione" class="materialize-textarea"></textarea>
                  <label for="descrizione">Una Breve Descrizione</label>
                </div>
              </div>

              <div class="row">
                <div class="file-field input-field col s12">
                  <div class="btn">
                    <span>Logo</span>
                    <input type="file" id="logo" name="logo" />
                  </div>
                  <div class="file-path-wrapper">
                    <input class="file-path validate" type="text" />
                  </div> 
                  <p id="file-feedback" style="color: green;"></p>

                </div>
              </div>

              <h5>Registrazione Sede Principale</h5>
              <div class="row">
                <div class="input-field col s6">
                  <input id="paese_sede" type="text" name="paese_sede" class="validate" required>
                  <label for="paese_sede">Paese</label>
                </div>
                <div class="input-field col s6">
                  <input id="regione_sede" type="text" name="regione_sede" class="validate" required>
                  <label for="regione_sede">Regione</label>
                </div>
              </div>

                <div class="input-field col s6">
                  <input id="citta_sede" type="text" name="citta_sede" required />
                  <label for="citta_sede">Citta'</label>
                </div>
                <div class="input-field col s6">
                  <input id="indirizzo_sede" type="text" name="indirizzo_sede" required />
                  <label for="indirizzo_sede">Indirizzo</label>
                </div>
              </div>

              <div class="row center">
                <input type="submit" class="btn-large" value="Registrati" />
              </div>
              <input id="tipo" name="tipo" type="hidden" value="azienda" />
            </form>
          </div>
        </div>
      </div>
    </div>

    <!--Materialize JS-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>-->
    <!--Materialize JS-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    M.AutoInit();
  });
</script>

  </body>
      <!--Materialize JS-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <script>
        
      const password = document.getElementById('password');
      const message = document.getElementById('message');
      const letter = document.getElementById('letter');
      const capital = document.getElementById('capital');
      const number = document.getElementById('number');
      const length = document.getElementById('length');

      password.onfocus = function () {
        message.style.display = 'block';
      };

      password.onblur = function () {
        message.style.display = 'none';
      };

      password.onkeyup = function () {
        const val = password.value;

        if (/[a-z]/.test(val)) {
          letter.classList.remove('invalid');
          letter.classList.add('valid');
        } else {
          letter.classList.remove('valid');
          letter.classList.add('invalid');
        }

        if (/[A-Z]/.test(val)) {
          capital.classList.remove('invalid');
          capital.classList.add('valid');
        } else {
          capital.classList.remove('valid');
          capital.classList.add('invalid');
        }

        if (/\d/.test(val)) {
          number.classList.remove('invalid');
          number.classList.add('valid');
        } else {
          number.classList.remove('valid');
          number.classList.add('invalid');
        }

        if (val.length >= 8) {
          length.classList.remove('invalid');
          length.classList.add('valid');
        } else {
          length.classList.remove('valid');
          length.classList.add('invalid');
        }
      };
    </script>
  </body>
  
</html>

</html>